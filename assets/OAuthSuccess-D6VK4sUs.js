import{o as r,u as a,a as c,b as n,c as i,d as u}from"./index-DhKF-2ok.js";const l={class:"flex items-center justify-center h-screen text-xl text-white"},m={__name:"OAuthSuccess",setup(h){const o=n();return r(async()=>{const e=new URL(window.location.href).searchParams.get("token");if(e){await a.setToken(e);try{const{data:t}=await c.get("http://zikrullo.mooo.com/api/auth/user");await a.setUser(t),await o.replace("/")}catch(t){console.error("Ошибка получения пользователя",t),await a.clearToken()}}}),(s,e)=>(u(),i("div",l," Loading... "))}};export{m as default};
